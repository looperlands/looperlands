<!DOCTYPE html>
<!-- 

 ___       ________  ________  ________  _______   ________     
|\  \     |\   __  \|\   __  \|\   __  \|\  ___ \ |\   __  \    
\ \  \    \ \  \|\  \ \  \|\  \ \  \|\  \ \   __/|\ \  \|\  \   
 \ \  \    \ \  \\\  \ \  \\\  \ \   ____\ \  \_|/_\ \   _  _\  
  \ \  \____\ \  \\\  \ \  \\\  \ \  \___|\ \  \_|\ \ \  \\  \| 
   \ \_______\ \_______\ \_______\ \__\    \ \_______\ \__\\ _\ 
    \|_______|\|_______|\|_______|\|__|     \|_______|\|__|\|__|
                                                                
                                                                
                                                                
 ___       ________  ________   ________  ________              
|\  \     |\   __  \|\   ___  \|\   ___ \|\   ____\             
\ \  \    \ \  \|\  \ \  \\ \  \ \  \_|\ \ \  \___|_            
 \ \  \    \ \   __  \ \  \\ \  \ \  \ \\ \ \_____  \           
  \ \  \____\ \  \ \  \ \  \\ \  \ \  \_\\ \|____|\  \          
   \ \_______\ \__\ \__\ \__\\ \__\ \_______\____\_\  \         
    \|_______|\|__|\|__|\|__| \|__|\|_______|\_________\        
                                            \|_________|        
                                                                
                                                                

LooperLands (https://looperlands.io), initially conceived by BalksHamster and built out by the LooperLands community, is forked from Little Workshop's BrowserQuest.

 -->
<html lang="en">
	<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=0.5, maximum-scale=1.0, user-scalable=no">
        <link rel="icon" type="image/png" href="img/common/favicon.png">
        <meta property="og:title" content="LooperLands">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://LooperLands.io">
        <meta property="og:image" content="https://LooperLands.io">
        <meta property="og:site_name" content="LooperLands">
        <meta property="og:description" content="Play LooperLands, an HTML5 massively multiplayer game demo powered by Loopring!">
        <link rel="stylesheet" href="css/main.css" type="text/css">
        <link rel="stylesheet" href="css/achievements.css" type="text/css">
        <script src="js/lib/modernizr.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.1/socket.io.js"></script>
		<script src="https://unpkg.com/gsap@3.12.5/dist/gsap.min.js"></script> <!--GSAP Animation Tool-->
		<script src="https://unpkg.com/pixi.js@7.x/dist/pixi.min.js"></script> <!--PIXI Animation Tool-->
		<script src="js/lib/axios.min.js"></script>
		<script src="js/keyboardhandler.js"></script>
		<script src="js/settings.js"></script>
		<script src="js/gamepad.js"></script>
		<script src="js/touchListener.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/console-ban@5.0.0/dist/console-ban.min.js"></script>
		<script src="js/minigame.js"></script>
		<script src="js/dynamicnft.js"></script>
		<script src="js/pathfinder.js"></script>
		<script src="js/playermodifierstable.js"></script>
		<!--
		<script>
			let local = window.location.href.indexOf("127.0.0.1") > -1;
			if (!local) {
				// default options
				ConsoleBan.init()
				// custom options
				ConsoleBan.init({
				redirect: '/404'
				});
			}
		</script>
		-->
        <!--[if lt IE 9]>
                <link rel="stylesheet" href="css/ie.css" type="text/css">
                <script src="js/lib/css3-mediaqueries.js" type="text/javascript"></script>
                <script type="text/javascript">
                document.getElementById('parchment').className = ('error');
                </script>
        <![endif]-->
        <script src="js/detect.js" type="text/javascript"></script>
        <title>LooperLands</title>
	</head>
    <!--[if lt IE 9]>
	<body class="intro upscaled">
    <![endif]-->
	<body class="intro">
	    <noscript>
	       <div class="alert">
	           You need to enable JavaScript to play LooperLands.
	       </div>
	    </noscript>
	    <div id="intro">
	        <h1 id="logo">
	           <span id="logosparks">
	               
	           </span>
	        </h1>
	        <article id="portrait">
	            <p>
	               Please rotate your device to landscape mode. In the Loopring Wallet, tap on the "â€¦" and select Force Rotate.
	            </p>
	            <div id="tilt"></div>
	        </article>
	        <section id="parchment" class="createcharacter">
	            <div class="parchment-left"></div>
	            <div class="parchment-middle">
                    <article id="welcome">
                        <h1>
                            <span class="title" id="welcomeMessage">
								<h3>
									Welcome to LooperLands!
									<br>
									Please wait while loading your character.
									<br>
									If this takes too long, press the browser back button.
								</h3>
                            </span>
                        </h1>
                    </article>
    	            <article id="credits">
        	            <h1>
         	               <span class="left-ornament"></span>
         	               <span class="title">LooperLands</span>
         	               <span class="right-ornament"></span>
                        </h1>
                        <div id="authors">
							<p>LooperLands is based on <a href='https://github.com/mozilla/BrowserQuest'>BrowserQuest</a></p>
							<canvas id="creditsCanvas" width="400" style="position: initial"><canvas>
						</div>
	                    <div id="close-credits" onclick="history.back();">
	                        <span>Close</span>
                        </div>
    	            </article>
    	            <article id="death">
                        <p>You are dead...</p>
						<a href="https://looperlands.io">Character Selection</a>
    					<div id="respawn" class="button"></div>
						<h3 id="toggle-credits" style="color: blue">Credits</h3>
    	            </article>
                    <article id="error">
          	           <h1>
          	               <span class="left-ornament"></span>
          	               Your browser cannot run LooperLands!
          	               <span class="right-ornament"></span>
                         </h1>
                         <p>
                             We're sorry, but your browser does not support WebSockets.<br>
                             In order to play, we recommend using the latest version of Firefox, Chrome or Safari.
                         </p>
                    </article>
	            </div>
	            <div class="parchment-right"></div>
	        </section>
	    </div>
		<div id="container" class="pixel-corners">
		    <div id="canvasborder">
		        <article id="instructions" class="panel">
					<div class="panelTitle pixel-corners-xs">Instructions</div>
					<div class="panelContent">
						<br>
						<button id="keyboardCommandsButton" class="panelBorder">Keyboard Commands</button>
						<button id="gamepadCommandsButton" class="panelBorder">Gamepad Commands</button>
						<ul>
							<li>Left click or tap to move, attack and pick up items.</li>
							<li>WASD, arrow keys, and game controllers work too.</li>
							<li>Your character is automatically saved as you play.</li>
							<li>Progress on premium avatars is transferable with the NFT.</li>
							<li>Free-To-Play assets don't retain progress, but can enjoy the full game experience.</li>
							<li>Please Visit <a href="https://looperlands.io/shop" target="_blank">https://looperlands.io/shop</a> to purchase a premium avatar.</li>
							<li>Click button at the bottom right and then "Instructions" to view this information again.</li>
						</ul>
						<span id="close-instructions" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
		        </article>
				<article id="inventory" class="panel">
					<div class="panelTitle pixel-corners-xs">Inventory</div>
					<div class="panelContent">
						<div id="inventorycontent">
							Your inventory is empty.
						</div>
						<span id="close-inventory" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
				</article>
				<article id="miniMap">
					<div class="panelContent">
						<img src="" alt="Mini Map">
						<div class="playerDot" id="playerDot">
							<span class="playerLabel">You</span>
						</div>
					</div>
				</article>
				</article>
				<article id="keyboardCommands" class="panel">
					<div class="panelTitle pixel-corners-xs">Keyboard Commands</div>
					<div class="panelContent">
						<div class="section">
							<h2>Movement</h2>
							<ul>
								<li><span>W or &uarr;</span>: Move Up</li>
								<li><span>A or &larr;</span>: Move Left</li>
								<li><span>S or &darr;</span>: Move Down</li>
								<li><span>D or &rarr;</span>: Move Right</li>
							</ul>
						</div>
					
						<div class="section">
							<h2>Weapon Control</h2>
							<ul>
								<li><span>Comma (',')</span>: Switch to the Previous Weapon</li>
								<li><span>Period ('.')</span>: Switch to the Next Weapon</li>
							</ul>
						</div>
					
						<div class="section">
							<h2>Targeting and Combat</h2>
							<ul>
								<li><span>Tab</span>: Highlight the Next Target</li>
								<li><span>Space</span>: Engage or Attack the Highlighted Target</li>
								<li><span>T</span>: Highlight the Closest Target</li>
							</ul>
						</div>
					
						<div class="section">
							<h2>Game Functions</h2>
							<ul>
								<li><span>Z</span>: Toggle Inventory</li>
								<li><span>X</span>: Toggle Achievements</li>
								<li><span>C</span>: Toggle Settings</li>
								<li><span>V</span>: Toggle Weapon Information</li>
								<li><span>B</span>: Toggle Avatar Information</li>
								<li><span>CTRL</span>: Temporary Show Names</li>
								<li><span>ENTER</span>: Chat</li>
								<li><span>M</span>Mini map</li>
							</ul>
						</div>
					
						<div class="section">
							<h2>Quick Actions</h2>
							<ul>
								<li><span>1</span>: Use Item in Slot 1</li>
								<li><span>2</span>: Use Item in Slot 2</li>
								<li><span>3</span>: Use Item in Slot 3</li>
								<li><span>4</span>: Use Item in Slot 4</li>
							</ul>
						</div>
						<span id="close-instructions" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
				</article>
				<article id="gamepadCommands" class="panel">
					<div class="panelTitle pixel-corners-xs">Gamepad Commands</div>
					<div class="panelContent">
						<div class="section">
							<h2>Movement</h2>
							<ul>
								<li><span>Left Stick Up</span>: Move Up</li>
								<li><span>Left Stick Down</span>: Move Down</li>
								<li><span>Left Stick Left</span>: Move Left</li>
								<li><span>Left Stick Right</span>: Move Right</li>
							</ul>
						</div>
						
						<div class="section">
							<h2>Button Controls</h2>
							<ul>
								<li><span>A</span>: Engage/Attack</li>
								<li><span>B</span>: Toggle Weapon Info</li>
								<li><span>X</span>: Toggle Avatar Info</li>
								<li><span>Y</span>: Toggle Inventory</li>
								<li><span>LB</span>: Next Weapon</li>
								<li><span>RB</span>: Previous Weapon</li>
								<li><span>LT</span>: Highlight Closest Target</li>
								<li><span>RT</span>: Cycle Target</li>
								<li><span>Back</span>: Toggle Quests</li>
								<li><span>Start</span>: Toggle Settings</li>
								<li><span>D-Pad Down</span>: Toggle Mini Map</li>			
							</ul>
						</div>
						<span id="close-instructions" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
				</article>
				<article id="announcement" class="panel">
					<div class="panelTitle pixel-corners-xs" style="margin: 0 auto; width:250px;">Announcement</div>
					<div class="panelContent">
						<div id="announcementContent"></div>
						<span id="close-instructions" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
				</article>
				<article id="playerClassSelection" class="panel">
					<div class="panelTitle pixel-corners-xs" style="margin: 0 auto; width:250px;">Class Selection</div>
					<div class="panelContent">
						<div id="class-containers"></div>
						<div class="navigation-buttons">
							<button id="prevClass" class="panelBorder">Previous Class</button>
							<button id="nextClass" class="panelBorder">Next Class</button>
						</div>
						<span id="close-instructions" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
				</article>										
				<article id="settings" class="panel">
					<div class="panelTitle pixel-corners-xs" style="margin: 0 auto; width:250px;">Game Settings</div>
					<button id="toggleInstructionsButton" type="submit" class="panelBorder">Instructions</button>
					<button id="toggleMiniMapButton" type="submit" class="panelBorder">Map</button>
					<small>Disable centered camera and/or animated tiles for performance.</small>
					<br>
					<form id="settingsForm">
						<ul style="text-align: left;">
							<li>
								<input type="checkbox" id="musicEnabled" name="musicEnabled" value="true">
								<label for="musicEnabled">Game Music Enabled</label>
							</li>
							<li>
								<input type="checkbox" id="streamMusicEnabled" name="streamMusicEnabled" value="true">
								<label for="streamMusicEnabled">Stream Music Enabled</label>
							</li>							
							<li>
								<input type="checkbox" id="centeredCamera" name="centeredCamera" value="true">
								<label for="centeredCamera">Centered Camera</label>
							</li>
							<li>
								<input type="checkbox" id="animatedTiles" name="animatedTiles" value="true">
								<label for="animatedTiles">Animated Tiles</label>
							</li>
							<li>
								<input type="checkbox" id="highlightTargetTiles" name="highlightTargetTiles" value="true">
								<label for="highlightTargetTiles">Highlight Target Tiles</label>
							</li>
							<li>
								<input type="checkbox" id="cursor" name="cursor" value="true">
								<label for="cursor">Draw Cursor</label>
							</li>							
							<li>
								<input type="checkbox" id="fullscreen" name="fullscreen" value="true">
								<label for="fullscreen">Fullscreen</label>
							</li>
							<li>
								<input type="checkbox" id="renderText" name="renderText" value="true">
								<label for="renderText">Render Text (names of entities and combat info)</label>
							</li>
						</ul>
						<br>
						<button type="submit" class="panelBorder">Save Settings</button>
					</form>
				</article>
		        <article id="achievements" class="page1 clickable panel">
		            <div class="close"></div>
					<div class="panelTitle pixel-corners-xs">Quests</div>
		            <div id="achievements-wrapper">
		                <div id="lists">
        		        </div>
    		        </div>
    		        <div id="achievements-count" class="stroke">
    		            Completed
    		            <div>
    		                <span id="unlocked-achievements">0</span>
    		                /
    		                <span id="total-achievements"></span>
    		            </div>
    		        </div>
		            <nav class="clickable">
		                <div id="previous"></div>
		                <div id="next"></div>
		            </nav>
					<div id="achievement-details" class="panelBorder hidden">
						<div class="header">
							<div class="left">
								<div id="achievement-details-name" class="stroke"></div>
								<div class="objective">
									<span id="achievement-details-objective-type"></span>
									<span id="achievement-details-objective-amount"></span>
									<span id="achievement-details-objective-target"></span>
								</div>
							</div>
							<div class="right">
								<div id="achievement-details-status"></div>
								<div id="achievement-details-level">Level: <span class="achievement-details-highlight" id="achievement-details-level-number"></span></div>
							</div>
						</div>
						<div class="body">
							<div id="achievement-details-text"></div>
							<div id="achievement-details-rewards">
								<div class="coin"></div>
							</div>
						</div>
						<div id="close-achievement-details"></div>
					</div>
		        </article>
    			<div id="canvas" class="pixel-corners-top">
    				<canvas id="background"></canvas>
    				<canvas id="entities"></canvas>
    				<canvas id="foreground" class="clickable"></canvas>
    			</div>
    			<div id="bubbles">
    			</div>
    			<div id="achievement-notification">
    			    <div class="coin">
    			        <div id="coinsparks"></div>
    			    </div>
    			    <div id="achievement-info">
        			    <div class="title">Congratulations Looper</div>
        			    <div class="name"></div>
    			    </div>
    			</div>
				<div id="fishingbar" class="clickable">
					<div id="fishingtarget">
						<div id="fishingtargetbullseye">
						</div>
					</div>
					<div id="fish-box">
						<div id="fish-marker">
						</div>
						<div id="fish">
						</div>
					</div>
					<div id="bullseye">BULLSEYE</div>
				</div>
				<div id="minigameprompt" class="clickable"></div>
    			<div id="bar-container" class="pixel-corners-bottom">
					<div id="healthbar">
					</div>
					<div id="hitpoints">
					</div>
					<div id="weapon"></div>
					<div id="armor"></div>
					<div id="notifications">
					    <div>
					       <span id="message1"></span>
					       <span id="message2"></span>
					    </div>
					</div>
                    <div id="playercount" class="clickable">
                        <span class="count">0</span> <span>players</span>
                    </div>
                    <div id="barbuttons">
                        <div id="chatbutton" class="barbutton clickable"></div>
                        <div id="achievementsbutton" class="barbutton clickable"></div>
                        <div id="inventorybutton" class="barbutton clickable"></div>
                        <div id="mutebutton" class="barbutton clickable active"></div>
                    </div>
    			</div>
				<div id="chatbox">
				    <form action="none" method="get" accept-charset="utf-8">
					    <input id="chatinput" class="gp" type="text" maxlength="60">
						<div id="emoteMenuToggle"></div>
						<div id="emoteMenu"></div>
				    </form>
				</div>
                <div id="population" class="pixel-corners-top">
                    <div id="instance-population" class="">
                        <span>0</span> <span>players</span> in this world
                    </div>
                    <div id="world-population" class="">
                        <span>0</span> <span>players</span> total
                    </div>
                </div>

				<article id="avatarStats" class="panel">
					<div class="panelTitle pixel-corners-xs" style="margin: 0 auto; width:250px;">Looper Info</div>
					<div class="panelContent">
						<span>Level: </span><span id="avatarLevel" style="color:#FCE045; padding-right: 10px;"></span>(<span id="avatarProgress"></span>%)
						<span id="buffInfo"></span>
						<br>
						<span id="companionInfo">
							<span>Companion: </span><span id="companionLevel" style="color:#FCE045; padding-right: 10px;"></span>(<span id="companionProgress"></span>%)
						</span>
						<br>
						<span id="playerModifiersTable"></span>
						<span id="close-instructions" class="close" onclick="(e) => { e.stopImmediatePropagation(); e.preventDefault(); return false}"></span>
					</div>
				</article>

				<div id="weaponStats" class="panel">
					<div><span>Level: </span><span id="weaponLevel" style="color:#FCE045; padding-right: 10px;"></span><span id="weaponProgressContainer">(<span id="weaponProgress"></span>%)</span></div>
					<div id="weaponTraitContainer">Trait: <span id="weaponTrait" style="color: #FCE045;"></span></div>
					<div id="projectileContainer"></div>
				</div>

				<div id="resources" class="hidden pixel-corners-bottom"></div>
				<div id="resources-minigame" class="hidden">
					<div id="resource-text"></div>
				</div>

				<div id="new-achievement-popup" class="panel hidden">
					<div class="panelTitle pixel-corners-xs">New Quest Received</div>
					<div class="header">
						<div id="new-achievement-name" class="stroke"></div>
					</div>
					<div class="body">
						<div id="new-achievement-text"></div>
					</div>
					<div id="close-new-achievement"></div>
				</div>

				<div id="shop-confirmation" class="panel hidden">
					<div id="shop-confirmation-longtext"></div>
					<div id="shop-confirmation-text"></div>
					<div id="cancel-shop-purchase">Cancel</div>
					<div id="confirm-shop-purchase">Buy</div>
				</div>
				<div id="shop-popup" class="panelBorder hidden">
					<div class="panelTitle pixel-corners-xs" id="shop-popup-name"></div>
					<div class="items" id="shop-popup-items"></div>
					<div id="close-shop" class="close"></div>
				</div>
		    </div>
		</div>
		<ul id="page-tmpl" class="clickable" style="display:none">
        </ul>
        <ul>
            <li id="achievement-tmpl" style="display:none">
                <div class="coin"></div>
                <div class="achievement-name">???</div>
                <div class="achievement-description">???</div>
            </li>
        </ul>

        <img src="img/common/thingy.png" alt="" class="preload">

        <div id="resize-check"></div>

        <script type="text/javascript">
            var ctx = document.querySelector('canvas').getContext('2d'),
                parchment = document.getElementById("parchment");

            if(!Detect.supportsWebSocket()) {
                parchment.className = "error";
            }

            if(ctx.mozImageSmoothingEnabled === undefined) {
                document.querySelector('body').className += ' upscaled';
            }

            if(!Modernizr.localstorage) {
                var alert = document.createElement("div");
                    alert.className = 'alert';
                    alertMsg = document.createTextNode("You need to enable cookies/localStorage to play LooperLands");
                    alert.appendChild(alertMsg);

                target = document.getElementById("intro");
                document.body.insertBefore(alert, target);
            } else if(localStorage && localStorage.data) {
                parchment.className = "loadcharacter";
            }
        </script>

        <script src="js/lib/log.js"></script>
        <script>
                var require = { waitSeconds: 60 };
        </script>
        <script data-main="js/home" src="js/lib/require-jquery.js"></script>
	</body>
</html>
