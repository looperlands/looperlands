<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="./apps/luckyfunkz/slots.css" type="text/css">
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script type="text/javascript" src="./apps/luckyfunkz/js/slots.js"></script>
    </head>
    <body>
        <div id="wrapper">
        <button id="closeMinigame">CLOSE</button>
            <canvas id="slotsArea"></canvas>
            <div id="buttonPanel">
                <div id="autoSpinButton" class="off" onclick="AutoSpin_Toggle()">
                </div>
                <div id="lineButton" onclick="increaseLines()">
                </div>
                <div id="betButton" onclick="increaseBet()">
                </div>
                <div id="maxBetButton" onclick="setBetMax()">
                </div>
                <div id="spinButton" onclick="spin()">
                </div>
            </div>
        </div>
        <script type="text/javascript">
            init();
            var buttonPanel = document.getElementById("buttonPanel");
            if (buttonPanel) {
                updateButtonPanelWidth(window.innerHeight, buttonPanel);
            }

            document.getElementById('closeMinigame').addEventListener('click', function() {
                var closeMinigameElement = document.getElementById('closeMinigame');
                var minigameElement = document.getElementById('minigame');

                if (minigameElement && closeMinigameElement) {
                    if (!closeMinigameElement.classList.contains('spin')) {
                        minigameElement.classList.remove('active');
                    }
                }
            });


            window.addEventListener('resize', function () {
                var buttonPanel = document.getElementById("buttonPanel");

                if (buttonPanel) {
                    updateButtonPanelWidth(window.innerHeight, buttonPanel);
                }
            });
        </script>
    </body>
</html>